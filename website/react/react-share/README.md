# React

[React中文网](https://react.docschina.org/docs/hello-world.html)

界面渲染：条件渲染、 列表 & Key、 表单     
数据流相关：状态提升、 Context （熟悉即可，Redux处理方式不同）、 Refs 转发   
设计原则 or 模式： 组合 VS 继承、 高阶组件  
编译：静态类型检查

### 1.条件渲染
使用 JavaScript 运算符 if 或者 条件运算符 去创建元素来表现当前的状态，  
然后让 React 根据它们来更新 UI。

### 2.列表 & Key

### 2.1 渲染多个组件
你可以通过使用 {} 在 JSX 内构建一个元素集合。

### 2.2 Key
key 帮助 React 识别哪些元素改变了，比如被添加或删除。   
因此你应当给数组中的每一个元素赋予一个确定的标识。

(当元素没有确定 id 的时候，万不得已你可以使用元素索引 index 作为 key)

[必须要有 key 的原因](https://react.docschina.org/docs/reconciliation.html)

### 3.表单
在 React 里，HTML 表单元素的工作方式和其他的 DOM 元素有些不同，  
这是因为表单元素通常会**保持一些内部的 state**。  

### 4.状态提升
通常，多个组件需要反映相同的变化数据，这时我们建议将共享状态提升到最近的共同父组件中去。

### 5.Context
Context 提供了一个无需为每层组件手动添加 props，就能在组件树间进行数据传递的方法。  

#### 5.1 组件通信
1.父组件向子组件通信： props  
2.子组件向父组件通信： onChange 回调  
3.跨级组件通信(孙子组件? 相隔2层或以上) ： context  
前面两个都比较熟悉了，context倒是没用过，而之前是直接props（自上而下）一层层往里面传的，处理起来相对复杂。

### 6.Refs 转发
Ref 转发是一项将 ref 自动地通过组件传递到其一子组件的技巧。  
对于大多数应用中的组件来说，这通常不是必需的。  
但其对某些组件，尤其是 **可重用的组件库** 是很有用的。

#### 6.1 Refs 基本了解
React提供的这个ref属性，表示为对组件真正实例的引用，其实就是ReactDOM.render()返回的组件实例。

ReactDOM.render() 渲染组件时返回的是组件实例；
渲染dom元素时，返回是具体的dom节点。
ref可以挂载到组件上也可以是dom元素上；

挂到组件(class声明的组件)上的ref表示对组件实例的引用。不能在函数式组件上使用 ref 属性，因为它们没有实例：
挂载到dom元素上时表示具体的dom元素节点。

### 6.2 何时使用 Refs
1.管理焦点，文本选择或媒体播放。  
2.触发强制动画。  
3.集成第三方 DOM 库。  

## 7.组合优于继承
继承是面向对象的四大特性之一，用来表示类之间的is-a关系，可以解决代码复用的问题。  
虽然继承有诸多作用，但继承层次过深、过复杂，也会影响代码的可维护性。